function usrListController(e,r,s){var n=this;n.users=e.query(),n.removeUser=function(e){if(e){var o=_.find(n.users,{_id:e._id});r.removeUser(o).then(function(){_.remove(n.users,{_id:e._id}),s.success(o.username+" has been removed!")},function(e){s.error(o.username+" cannot be removed because "+e)})}}}usrListController.$inject=["UserResource","AdminService","ToastFactory"],angular.module("app.admin.users",["app.models.admin-models"]).config(["$stateProvider",function(e){var r={admin:{auth:function(e){return e.authorizeCurrentUserForRoute("admin")}}};e.state("app.admin.users",{url:"/users",views:{"admin@app.admin":{templateUrl:"/partials/admin/user_list",controller:"usrListController",resolve:r.admin}}})}]).controller("usrListController",usrListController);